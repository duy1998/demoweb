<!-- Bootstrap 3.3.7 -->
<!-- <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script> -->
<!-- FastClick -->
<script src="bower_components/fastclick/lib/fastclick.js"></script>
<!-- AdminLTE App -->
<script src="dist/js/adminlte.min.js"></script>
<!-- Sparkline -->
<script src="bower_components/jquery-sparkline/dist/jquery.sparkline.min.js"></script>
<!-- jvectormap  -->
<script src="plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
<script src="plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
<!-- SlimScroll -->
<script src="bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>
<!-- ChartJS -->
<script src="bower_components/chart.js/Chart.js"></script>

<!-- DataTables -->
<script src="../../bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="../../bower_components/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>


<script src="handlers/productHandler.js"></script>
<script src="handlers/promotionHandler.js"></script>
<script src="handlers/userAccountHandler.js"></script>
<script src="handlers/categoryHandler.js"></script>
<script src="handlers/utils.js"></script>

<!-- wrap word in datatable cell -->
<script src="https://cdn.datatables.net/plug-ins/1.10.19/dataRender/ellipsis.js"></script>

<script>

   $(document).ready(function () {
      $('.date-picker').datetimepicker({
            format: 'YYYY-MM-DD HH:mm:ss',
            sideBySide: true
        });
      /** add active class and stay opened when selected */
      var url = window.location;
      // for sidebar menu entirely but not cover treeview
      $('ul.sidebar-menu a').filter(function () {
         return this.href == url;
      }).parent().addClass('active');

      // for treeview
      $('ul.treeview-menu a').filter(function () {
         return this.href == url;
      }).parentsUntil(".sidebar-menu > .treeview-menu").addClass('active');
   });

   window.onload = function () {
      $(function () {
         if (window.location.protocol === "https:")
            window.location.protocol = "http";
      });
   }


   // ################################# PRODUCT #################################
   function onShowDeleteProduct(id, name) {
      document.getElementById('del_productID').value = id;
      document.getElementById('del_productName').value = name;
   }

   function deleteProduct(){
   
      const data = serializeFormToJSon("#formDeleteProduct");
      console.log(data);
      loadData();
   }

   // ####################################################################

   function serializeFormToJSon(form){
      return $(form).serializeArray().reduce((acc, next) => ({ ...acc, [next.name]: next.value }), {});
   }
</script>